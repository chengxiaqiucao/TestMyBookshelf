### 个人图书管理系统 - 迭代1 需求文档  
**版本**：v1.0  
**目标**：实现个人图书的基础增删改查功能  

---

#### **用户故事1：添加图书**  
**As a** 图书收藏者  
**I want to** 添加新图书到我的书库  
**So that** 我可以记录拥有的书籍  

**验收标准 (Given-When-Then):**  
1. **成功添加**  
   - *Given* 用户在“添加图书”页面  
   - *When* 填写必填字段（图书名称、作者）并点击提交  
   - *Then* 系统保存图书，显示“添加成功”提示，并跳转至图书列表页  

2. **添加失败（校验缺失）**  
   - *Given* 用户未填写“图书名称”或“作者”  
   - *When* 点击提交按钮  
   - *Then* 系统在对应字段下方显示红色错误提示  

---

#### **用户故事2：查看图书列表**  
**As a** 图书收藏者  
**I want to** 查看所有图书列表  
**So that** 我可以快速浏览藏书  

**验收标准:**  
1. **基础列表展示**  
   - *Given* 存在至少一本图书  
   - *When* 用户访问首页  
   - *Then* 以表格形式展示所有图书（至少包含名称、作者、阅读状态）  

2. **空状态处理**  
   - *Given* 无任何图书  
   - *When* 用户访问首页  
   - *Then* 显示“暂无图书，点击添加”的提示和跳转链接  

---

#### **用户故事3：编辑图书信息**  
**As a** 图书收藏者  
**I want to** 修改图书信息  
**So that** 我可以更新书籍状态或备注  

**验收标准:**  
1. **成功编辑**  
   - *Given* 用户从列表页进入某图书的“编辑”页面  
   - *When* 修改字段（如更新阅读状态为“已读”）并提交  
   - *Then* 系统保存修改，返回列表页并显示更新后的数据  

2. **非法数据拦截**  
   - *Given* 用户在价格字段输入字母  
   - *When* 点击提交  
   - *Then* 系统阻止提交并提示“请输入有效数字”  

---

#### **用户故事4：删除图书**  
**As a** 图书收藏者  
**I want to** 删除不再需要的图书  
**So that** 保持书库整洁  

**验收标准:**  
1. **删除操作**  
   - *Given* 用户在图书列表页  
   - *When* 点击某图书的“删除”按钮  
   - *Then* 系统移除该图书，列表实时刷新  

---

#### **用户故事5：搜索图书**  
**As a** 图书收藏者  
**I want to** 通过名称或作者搜索图书  
**So that** 快速定位目标书籍  

**验收标准:**  
1. **基础搜索**  
   - *Given* 用户在列表页顶部的搜索框输入关键词  
   - *When* 点击“搜索”按钮  
   - *Then* 系统展示名称或作者匹配的图书（不区分大小写）  

---

### 字段定义（图书属性）
| 字段         | 类型     | 必填 | 说明                          | 示例                 |
|--------------|----------|------|-------------------------------|----------------------|
| 图书名称     | 文本     | ✓    | 书名（长度≤100字符）          | 《三体》             |
| 作者         | 文本     | ✓    | 作者名（长度≤50字符）         | 刘慈欣               |
| 简介         | 长文本   | ✗    | 图书描述（长度≤500字符）      | 科幻巨著...          |
| 发行时间     | 日期     | ✗    | YYYY-MM-DD格式                | 2008-01-01          |
| 发行价格     | 小数     | ✗    | 正数（≥0）                    | 68.5                |
| 用户购买价格 | 小数     | ✗    | 正数（≥0）                    | 52.0                |
| 用户备注     | 长文本   | ✗    | 读后感（长度≤1000字符）       | 震撼的宇宙观...      |
| 阅读状态     | 枚举     | ✗    | 待读/已读/正在读（默认待读）  | 待读                |
| 在库状态     | 枚举     | ✗    | 在库/借入/借出/归档（默认在库）| 借出               |
| 自评星级     | 整数     | ✗    | 1-5星（默认3星）              | 5                   |

---

### 技术栈说明
| 模块   | 技术选择              |
|--------|-----------------------|
| 后端   | Python + FastAPI      |
| 数据库 | SQLite                |
| 前端   | HTML/CSS + Bootstrap  |
| API交互| AJAX (Fetch API)      |

---

### 后续迭代预告
- **迭代2**：用户系统（登录/注册）、图书借阅记录，中英文支持
- **迭代3**：数据统计图表（阅读进度、书籍分类占比）  
- **迭代4**：移动端响应式适配  

