### 开发提示词（供AI编程助手使用）

---

**项目名称**：个人图书管理系统 - 迭代1  
**核心目标**：基于以下需求文档开发基础增删改查功能，使用 FastAPI + SQLite + Bootstrap 技术栈  

#### 技术规范
```
1. 后端框架：FastAPI (Python 3.10+)
2. 数据库：SQLite（单文件数据库）
3. 前端：Bootstrap 5 + Vanilla JS（不使用复杂框架）
4. API交互：RESTful设计，使用Fetch API
5. 项目结构：
   - main.py：FastAPI入口
   - database.py：数据库连接及模型
   - templates/：Jinja2模板目录
   - static/：CSS/JS静态资源
```

#### 功能实现要求
```markdown
✅ 必须实现需求文档中的5个用户故事  
✅ 所有字段需按文档中的类型和约束处理  
✅ 页面包含：
   - 首页：图书列表+搜索框
   - 添加页：带校验的表单
   - 编辑页：预填充表单
   - 删除：列表页直接删除按钮
```

#### 特殊开发要求（关键）
```diff
! 请注入以下典型Bug（不在代码中注释说明）：
1. 删除功能：无确认对话框直接删除
2. 状态更新：编辑阅读状态后，列表页不自动刷新
3. 数据校验：
   - 发行时间允许输入未来日期（如3000年）
   - 价格字段可输入负数
4. 搜索缺陷：
   - 搜索后清空关键词，列表不恢复全量显示
   - 作者搜索大小写敏感（如"刘慈欣"搜不到"刘慈欣"）
5. 空状态处理：删除最后一本书后仍显示列表UI（不显示空提示）
```

#### 交付物要求
```
1. 完整可运行代码（含基础CSS美化）
2. 生成独立的BUG清单.md（仅包含Bug描述，无解决方案）
3. 初始化脚本：创建带3本示例图书的数据库
```

---

### 给AI的启动指令模板
```python
"""
你是一个全栈开发工程师，请基于以下需求开发个人图书管理系统：

### 需求文档
[此处粘贴完整的需求Story文档]

### 技术栈
- 后端：FastAPI + SQLite
- 前端：Bootstrap 5 + Vanilla JS
- 交互：Fetch API + Jinja2模板

### 关键要求
1. 实现增删改查所有基础功能
2. 按以下方案注入隐藏Bug（不在代码中标注）：
   a. 删除无确认提示
   b. 编辑阅读状态后需手动刷新页面才更新
   c. 发行时间允许3000年后的日期
   d. 价格字段接受负数值
   e. 搜索框清空后按回车不恢复全量列表
3. 额外生成BUG清单.md文件，格式：
   ## 注入Bug列表
   - [功能模块] Bug描述（重现步骤）
   - [删除] 点击删除按钮直接生效，无二次确认
   - [状态更新] 修改阅读状态后需刷新页面才能看到变化
   ...

### 开发步骤
1. 设计数据库模型（SQLite）
2. 实现FastAPI路由（RESTful）
3. 创建Jinja2模板
4. 用Bootstrap构建UI组件
5. 添加Fetch API交互逻辑
6. 注入指定Bug（不修改需求功能）
"""
```

---

### 预期效果
1. **正常功能**：用户可完成图书的增删改查操作  
2. **隐藏缺陷**：包含5个典型Bug供测试练习  
3. **隔离设计**：  
   - 交付代码干净无"Bug"注释  
   - 通过独立BUG清单.md说明缺陷（开发者与测试者分离）

> 提示：AI执行后将获得可直接分发的练习包（功能正常的项目+隐藏Bug文档），测试人员需通过BUG清单验证缺陷重现能力。